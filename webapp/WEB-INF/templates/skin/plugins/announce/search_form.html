<div class="portlet-background append-bottom">
    <div class="portlet-background-header -lutece-border-radius-top">#i18n{announce.search_form.title}</div>
    <div class="portlet-background-content -lutece-border-radius-bottom">
        <form class="form_search" method="post" action="jsp/site/Portal.jsp">
            #i18n{announce.search_form.keyWordsLabel}
            <input type="text" size="35" value="${(filter.keywords)!}" name="keywords"/>
            <select name="category_id">
                <option value="0">#i18n{announce.search_form.defaultCategoryLabel}</option>
                <#list list_sectors as sector>
                <optgroup label="${sector.label}">
                    <#list sector.listCategories as category>
                        <#if (filter.idCategory)?? && filter.idCategory == category.id>
                            <option selected="selected" value="${category.id}">${category.label}</option>
                        <#else>
                            <option value="${category.id}">${category.label}</option>
                        </#if>
                    </#list>
                </optgroup>
                </#list>
            </select>
            <br/>
            #i18n{announce.search_form.dateMinLabel}  <input size="12" type="text" id="date_min" name="date_min" value="${filter_date_min!}"> 
            #i18n{announce.search_form.dateMaxLabel}  <input size="12" type="text" id="date_max" name="date_max" value="${filter_date_max!}">
            #i18n{announce.search_form.priceMinLabel}
            <div class="input-append">
            	<input class="input-small" size="5" type="text" id="price_min" name="price_min" value="<#if (filter.priceMin)?? && filter.priceMin &gt; 0>${filter.priceMin}</#if>">&euro;
	            <span class="add-on">&euro;</span>
            </div>
            #i18n{announce.search_form.priceMaxLabel}
            <div class="input-append">
            	<input class="input-small" size="5" type="text" id="price_max" name="price_max" value="<#if (filter.priceMax)?? && filter.priceMax &gt; 0>${filter.priceMax}</#if>">&euro;
            	<span class="add-on">&euro;</span>
            </div>
            <div class="form-actions">
	            <button class="btn btn-primary" type="submit" name="search" value="#i18n{announce.search_form.search}">
	            	<i class="icon-search icon-white">&nbsp;</i>&nbsp;#i18n{announce.search_form.search}
	            </button>
	            <a class="btn" href="jsp/site/Portal.jsp?page=announce&action=search&hasFilter=true" >
	            	<i class="icon-remove-circle">&nbsp;</i>&nbsp;#i18n{announce.search_form.reset}
	            </a> 
	            <input type="hidden" name="action" value="search" />
	            <input type="hidden" name="page" value="announce" />
	            <input type="hidden" name="hasFilter" value="true" />
	            <div class="pull-right">
	        		<#if user?? && filter?? && ( ( filter.keywords?? && filter.keywords != '' ) || filter.priceMin &gt; 0 || filter.priceMax &gt; 0 ) && filter.idFilter == 0 >
			    		<a class="btn btn-primary" href="jsp/site/Portal.jsp?page=announce-subscribe&action=doCreateSubscriptionFilter" title="#i18n{announce.labelCreateFilterSubscriptionTitle}">
			    			#i18n{announce.labelCreateFilterSubscription}
			    		</a>
			    	</#if>
		    	</div>
	   		</div>
        </form>
    </div>
</div>
<@getDatePicker idField="date_min" language=locale />
<@getDatePicker idField="date_max" language=locale />